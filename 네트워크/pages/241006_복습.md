### 241006 네트워크 복습해보기 - 기본 흐름

# 네트워크
네트워크 공부란 전 세계 다양한 장치들이 데이터를 어떻게 소통하는 방법을 이해하는 것입니다.

내부적으로 LAN을 사용하고 인터넷을 이용하기 위해 WAN을 사용하게 된다.

## 1. LAN
- LAN은 MAC 주소를 통해 같은 유선(이너넷) 또는 무선(Wi-Fi)로 연결된 동일한 네트워크 대역끼리 연결한다.
- MAC, IP, Port, Switch를 중요하게 생각하자
  - MAC : 내 하드웨어(컴퓨터, 휴대폰 등)의 주소
  - IP : 호스트(연결된 컴퓨터)의 식별자
  - Port : IP를 업무에 따라 구분할 수 있는 번호
  - Swtich : MAC 주소들을 저장하여 LAN 안에 있는 장치들이 데이터를 주고 받음

<br>

### 1-1. LAN에서 WAN으로 이동하기 위한 방식
- LAN에서 데이터를 보내고자 하는 라우터의 IP 주소를 ARP를 통해 찾고 전달하고자 하는 곳의 MAC 주소에 데이터를 전송한다.


### 1-2. 라우터
- LAN과 WAN을 연결하는 역할을 한다.
- 여기서는 MAC 주소가 아닌 IP 주소에 더 중점을 둔다.

<br>

## 2. WAN
- LAN은 MAC 주소를 통해 소통했다면 라우터는 IP 주소를 이용한다.
- 프레임 : LAN은 MAC 주소만으로 충분하지 않아서 데이터 안에다 IP 패킷을 넣는다.

<br>

## 3. 데이터 단위 (Soket, Segment, Packet, Frame)
- L4. Application/Protocol : Socket 단위 (Stream 데이터)
  - 스트리밍 서비스처럼 Stream 데이터는 그 끝을 알 수 없는 데이터다.
    (끝은 있기 때문에 정확히 표현하자면 데이터 스트림은 연속된 데이터 흐름을 의미)
  - 그걸 네트워크로 보내기 위해서 분해가 필요하다. = Segment
- L3. Transport (Port 기반): Segment 단위
  - 전송 계층에서 데이터를 Segment로 분할하여, 수신 측에서 다시 조립할 수 있도록 한다.
  - TCP와 UDP와 같은 프로토콜을 통해 각 Segment가 목적지에 도달하도록 한다.
- L2. Network (IP 기반): Packet 단위
  - 분해된 조각 하나를 Segment라고 하는데 그걸 포장한 것을 Packet이라고 한다.
  - 여기서는 IP 주소를 사용하여 패킷을 목적지로 라우팅한다. 패킷은 IP 헤더와 데이터를 포함하고 있다.
- L1. Data Link (MAC 기반): Frame 단위
  - 네트워크 계층에서 만들어진 Packet은 데이터 링크 계층에서 Frame으로 캡슐화된다. 이 계층에서는 MAC 주소를 통해 실제로 장치 간에 데이터를 전송하게 된다. 이더넷이나 Wi-Fi 같은 기술이 이 계층에서 동작한다.

<br>

## 4. Web
- 크게 Web Server, Was, Database로 나눠진다.
- Web Server : 화면단이며 서버와 송수신을 한다. 
  - UI가 계속 발전하다보니 HTML로 데이터를 전송하기에 어려움을 느끼게 되며 데이터를 JSON 타입으로 전달하게 되며 RESTful API로 발전되었다.
  - 데이터로 전송하다보니 화면 렌더링이 HTML에서 Javascript로 바뀌게 되었는데 코드가 너무 길어지면서 React 같은 UI Framework가 나타났다.
- Database : 자료들이 있는 공간이다.
  - 모든 연산은 CPU가 하며 소프트웨어를 움직인다.
  - 우리는 그 사이에 Middleware라는 부분을 개발하는데 그 부분을 막 짜면 안되기 때문에 middleware를 위한 Spring boot, JSP, node.js 등의 Framework가 생겼다.


<br>
<br>

---

## 추후에 공부할 것 by GPT
더 깊이 이해하기 위해 몇 가지 구체적인 내용을 추가하면 더 좋을 것 같다.

1. **LAN의 구체적인 프로토콜:**
   - 이미 MAC, IP, Port, Switch를 언급하셨는데, 여기에 Ethernet 프로토콜에 대한 설명을 추가할 수 있습니다.
   - LAN에서 흔히 사용되는 프로토콜이며, 데이터를 어떻게 캡슐화해서 전송하는지 설명할 수 있습니다.
   - **DHCP(Dynamic Host Configuration Protocol)**를 추가하면, IP 주소가 동적으로 어떻게 할당되는지, 네트워크 장치들이 어떻게 IP 주소를 받는지 설명하실 수 있습니다.

2. **라우터의 구체적인 동작:**
   - 라우터가 LAN과 WAN을 연결한다고 하셨는데, 구체적으로 **NAT(Network Address Translation)**가 어떻게 동작하는지 추가하면 좋을 것 같습니다. NAT는 사설 IP를 공용 IP로 변환해 주는 역할을 합니다.
   - **라우팅 프로토콜**에 대해서도 언급하실 수 있습니다. 예를 들어, **OSPF**(Open Shortest Path First)나 **BGP**(Border Gateway Protocol) 같은 라우팅 프로토콜이 WAN에서 어떻게 경로를 설정하고 데이터를 전송하는지 추가 설명이 가능합니다.

3. **WAN에서의 프레임과 IP 패킷:**
    - WAN에서 MPLS(Multiprotocol Label Switching) 같은 기술이 어떻게 데이터를 전송하는 데 활용되는지 추가하실 수 있습니다. 이것은 대규모 네트워크에서 트래픽을 효율적으로 관리하는 데 중요한 역할을 합니다.

4. **데이터 단위와 관련된 프로토콜:**
   - 각 계층에서 어떤 프로토콜들이 사용되는지 구체적으로 적어보실 수 있습니다. 예를 들어, TCP와 UDP는 L4에서, IP는 L3에서, Ethernet은 L2에서 동작합니다. TCP와 UDP의 차이점도 간단히 설명할 수 있습니다.
   - 세션 관리에 대해서도 설명하실 수 있습니다. TCP가 어떻게 세션을 유지하고 패킷을 손실 없이 전송하는지 설명하면 더 좋을 것 같습니다.

5. **웹 구조에 대한 추가 정보:**
   - Web Server, WAS, Database의 설명에 더해, Load Balancing(부하 분산)이나 Reverse Proxy(역방향 프록시) 개념을 설명하시면 좋습니다. 이 개념들은 웹 서버와 애플리케이션 서버 사이의 트래픽을 효율적으로 관리하는 데 사용됩니다.
   - 쿠키와 세션 또는 **JWT (JSON Web Token)**와 같은 인증 기술도 Web 구조에 추가하셔서, 데이터 보안 및 사용자 상태 관리를 설명할 수 있습니다.